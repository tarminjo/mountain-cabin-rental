<div class="full-bg">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand mb-0 h1">Mountain Cabin Rental</a>
      <a routerLink="/admin"
          class="btn btn-outline-light custom-dashboard-button me-2">
          Registration Requests
      </a>
      <a routerLink="/login-admin"
          class="btn btn-outline-light custom-dashboard-button me-2">Users Dashboard
      </a>
      <a routerLink="/login-admin"
          class="btn btn-outline-light custom-dashboard-button">Cabins Dashboard
      </a>
      <div class="ms-auto">
        <a routerLink="/login-admin"
          class="btn btn-outline-light custom-dashboard-button">Logout</a>
      </div>
      
    </div>
  </nav>

  <div class="container pt-5">
    <div class="row">
      <div class="col-md-10 mx-auto">
        <div *ngIf="allRequests.length > 0; else noRequests">
          <div>
            <h3 class="fw-bold">List of all registration requests</h3>
            <br>
          </div>
          <table class="table table-hover table-bordered shadow rounded-4 mt-2">
            <thead style="background-color: #fd7e14; color: white;">
              <tr style="text-align: center">
                <th>Username</th>
                <th>Type</th>
                <th>Name</th>
                <th>Sex</th>
                <th>Address</th>
                <th>Phone number</th>
                <th>Mail</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody style="background-color: #f2f2f2;">
              <tr *ngFor="let n of allRequests" style="text-align: center">
                <td>{{n.username}}</td>
                <td>{{n.type}}</td>
                <td>{{n.firstname + " " + n.lastname}}</td>
                <td>{{n.sex}}</td>
                <td>{{n.address}}</td>
                <td>{{n.phoneNumber}}</td>
                <td>{{n.mail}}</td>
                <td style="white-space: nowrap; width: 1%;">
                  <button class="btn btn-success btn-sm me-1"
                    (click)="acceptRequest(n.username)">Accept</button>
                  <button class="btn btn-danger btn-sm"
                    (click)="declineRequest(n.username)">Decline</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <ng-template #noRequests>
          <h4 class="text-center" style="color: red; font-style: italic;">
            No new registration requests...</h4>
        </ng-template>
      </div>
    </div>
  </div>
</div>
